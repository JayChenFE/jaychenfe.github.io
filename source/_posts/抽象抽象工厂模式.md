---
title: 抽象抽象工厂模式
date: 2019-05-14 22:48:11
categories:
tags:
top:
---

[TOC]

# 原理

![](https://raw.githubusercontent.com/JayChenFE/pic/master/20190514225137.png)

# 示例

## 计算员工的工资(C#实现)

### 需求

中国企业需要一项简单的财务计算：每月月底，财务人员要计算员工的工资。

员工的工资 = (基本工资 + 奖金 - 个人所得税)。这是一个放之四海皆准的运算法则。

为了简化系统，我们假设员工基本工资总是4000美金。

中国企业奖金和个人所得税的计算规则是:

- 奖金 = 基本工资(4000) * 10%

- 个人所得税 = (基本工资 + 奖金) * 40%

我们现在要为此构建一个软件系统（代号叫Softo），满足中国企业的需求。

### 需求分析

奖金(Bonus)、个人所得税(Tax)的计算是Softo系统的业务规则(Service)。

工资的计算(Calculator)则调用业务规则(Service)来计算员工的实际工资。

工资的计算作为业务规则的前端(或者客户端Client)将提供给最终使用该系统的用户(财务人员)使用。